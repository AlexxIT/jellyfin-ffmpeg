Description: Create the pkg-config files without build_suffix.
 Tweak the build system to use build_suffix only for the library names to avoid
 possible conflicts with the libraries build by Libav,
 but not for the pkg-config files, as their names are needed for pkg-config
 checks in programs building with FFmpeg.

Author: Andreas Cadhalpun <Andreas.Cadhalpun@googlemail.com>
Forwarded: not-needed
Last-Update: <2014-07-22>

--- a/configure
+++ b/configure
@@ -5568,7 +5568,7 @@
 # build pkg-config files
 
 lib_version(){
-    eval printf "\"lib${1}${build_suffix} >= \$LIB$(toupper ${1})_VERSION, \""
+    eval printf "\"lib${1} >= \$LIB$(toupper ${1})_VERSION, \""
 }
 
 pkgconfig_generate(){
@@ -5581,7 +5581,7 @@
     requires=${requires%, }
     enabled ${name#lib} || return 0
     mkdir -p $name
-    cat <<EOF > $name/$name${build_suffix}.pc
+    cat <<EOF > $name/$name.pc
 prefix=$prefix
 exec_prefix=\${prefix}
 libdir=$libdir
--- a/library.mak
+++ b/library.mak
@@ -85,7 +85,7 @@
 	$(Q)mkdir -p "$(INCINSTDIR)"
 	$$(INSTALL) -m 644 $$^ "$(INCINSTDIR)"
 
-install-lib$(NAME)-pkgconfig: $(SUBDIR)lib$(FULLNAME).pc
+install-lib$(NAME)-pkgconfig: $(SUBDIR)lib$(NAME).pc
 	$(Q)mkdir -p "$(LIBDIR)/pkgconfig"
 	$$(INSTALL) -m 644 $$^ "$(LIBDIR)/pkgconfig"
 
