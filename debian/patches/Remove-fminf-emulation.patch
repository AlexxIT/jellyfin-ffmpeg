From 2be7d565bb2af0e5041378e74227520790f50257 Mon Sep 17 00:00:00 2001
From: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date: Sat, 8 Nov 2014 10:48:37 +0100
Subject: [PATCH] Remove fminf() emulation.

---
 configure        |  2 --
 libavutil/libm.h | 10 ----------
 2 files changed, 0 insertions(+), 12 deletions(-)

diff --git a/configure b/configure
index 3974b94..af02064 100755
--- a/configure
+++ b/configure
@@ -1668,7 +1668,6 @@ MATH_FUNCS="
     exp2
     exp2f
     expf
-    fminf
     isinf
     isnan
     ldexpf
@@ -4782,7 +4781,6 @@ disabled crystalhd || check_lib libcrystalhd/libcrystalhd_if.h DtsCrystalHDVersi
 atan2f_args=2
 ldexpf_args=2
 powf_args=2
-fminf_args=2
 
 for func in $MATH_FUNCS; do
     eval check_mathfunc $func \${${func}_args:-1}
diff --git a/libavutil/libm.h b/libavutil/libm.h
index 28d5df8..6c17b28 100644
--- a/libavutil/libm.h
+++ b/libavutil/libm.h
@@ -82,16 +82,6 @@ static av_always_inline float cbrtf(float x)
 #define exp2f(x) ((float)exp2(x))
 #endif /* HAVE_EXP2F */
 
-#if !HAVE_FMINF
-#undef fminf
-static av_always_inline av_const float fminf(float x, float y)
-{
-    //Note, the NaN special case is needed for C spec compliance, it should be
-    //optimized away if the users compiler is configured to assume no NaN
-    return x > y ? y : (x == x ? x : y);
-}
-#endif
-
 #if !HAVE_ISINF
 static av_always_inline av_const int isinf(float x)
 {
--
libgit2 0.21.0

